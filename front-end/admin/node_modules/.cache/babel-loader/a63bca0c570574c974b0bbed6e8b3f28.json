{"ast":null,"code":"import _classCallCheck from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/thamnt/Downloads/shop-online/front-end/admin/src/routes/Service/ServicePage/index.js\";\nimport React, { Component } from \"react\";\nimport { Table, Button, Card, Col, Row, Select, Pagination } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { getListShop, getServiceByPage, getListServiceByShop } from \"../../../service/handleRequest\";\nimport CircularProgress from \"components/CircularProgress/index\";\nimport { relative } from \"path\";\nimport \"../../../styles/customerStyle/index.css\";\nvar Option = Select.Option;\n\nvar ServicePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ServicePage, _Component);\n\n  function ServicePage(props) {\n    var _this;\n\n    _classCallCheck(this, ServicePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServicePage).call(this, props));\n\n    _this.getShopName = function (value, name) {\n      _this.setState({\n        seletedShopName: name.props.children,\n        idShop: value\n      }, function () {\n        getListServiceByShop(_this.state.idShop).then(function (response) {\n          var services = response.data.data.map(function (service) {\n            return {\n              id: service.id,\n              serviceName: service.service_name,\n              serviceDescription: service.service_description,\n              fee: service.fee,\n              type: service.type,\n              child_count: service.child_count\n            };\n          });\n\n          _this.setState({\n            services: services,\n            totalPage: response.data.meta.total,\n            page: response.data.meta.current_page\n          }, function () {});\n        });\n      });\n    };\n\n    _this.onChangePage = function (page) {\n      _this.setState({\n        page: page\n      }, function () {\n        getServiceByPage(_this.state.idShop, _this.state.page).then(function (response) {\n          var services = response.data.data.map(function (service) {\n            return {\n              id: service.id,\n              serviceName: service.service_name,\n              serviceDescription: service.service_description,\n              fee: service.fee,\n              type: service.type,\n              child_count: service.child_count\n            };\n          });\n\n          _this.setState({\n            services: services,\n            totalPage: response.data.meta.total,\n            page: response.data.meta.current_page\n          });\n        });\n      });\n    };\n\n    _this.styleLoader = {\n      position: \"sticky\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      zIndex: \"2\",\n      background: \"#fff\"\n    };\n    _this.columns = [{\n      title: \"Id\",\n      dataIndex: \"id\",\n      key: \"id\"\n    }, {\n      title: \"Service name\",\n      dataIndex: \"serviceName\",\n      key: \"serviceName\",\n      render: function render(text, record) {\n        return React.createElement(Link, {\n          to: \"/service/detail/\".concat(record.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, text);\n      }\n    }, {\n      title: \"Service description\",\n      dataIndex: \"serviceDescription\",\n      key: \"serviceDescription\"\n    }, {\n      title: \"Price\",\n      dataIndex: \"fee\",\n      key: \"price\"\n    }, {\n      title: \"Type\",\n      dataIndex: \"type\",\n      key: \"tyoe\"\n    }, {\n      title: \"Number of children\",\n      dataIndex: \"child_count\",\n      key: \"numberOfChildren\"\n    }, {\n      title: \"\",\n      key: \"edit\",\n      dataIndex: \"tags\",\n      render: function render(text, record) {\n        return React.createElement(Link, {\n          to: \"/service/edit/\".concat(record.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Edit\"));\n      }\n    }];\n    _this.state = {\n      services: [],\n      shopName: [],\n      seletedShopName: \"\",\n      idShop: \"\",\n      totalPage: 1,\n      page: 1,\n      loader: true\n    };\n    return _this;\n  }\n\n  _createClass(ServicePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getListShop.then(function (_ref) {\n        var data = _ref.data;\n\n        _this2.setState({\n          shopName: data,\n          idShop: data[0].id,\n          seletedShopName: data[0].shopName\n        }, function () {\n          var idShop = _this2.state.idShop;\n          getListServiceByShop(idShop).then(function (res) {\n            var services = res.data.data.map(function (service) {\n              return {\n                id: service.id,\n                serviceName: service.service_name,\n                serviceDescription: service.service_description,\n                fee: service.fee,\n                type: service.type,\n                child_count: service.child_count\n              };\n            });\n\n            _this2.setState({\n              loader: false,\n              services: services,\n              totalPage: res.data.meta.total,\n              page: res.data.meta.current_page\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          services = _this$state.services,\n          seletedShopName = _this$state.seletedShopName,\n          shopName = _this$state.shopName,\n          page = _this$state.page,\n          totalPage = _this$state.totalPage,\n          loader = _this$state.loader;\n      return React.createElement(\"div\", {\n        style: {\n          position: \"relative\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, loader ? React.createElement(\"div\", {\n        className: \"gx-loader-view\",\n        style: this.styleLoader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(CircularProgress, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })) : null, React.createElement(\"div\", {\n        className: \"title-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Service\")), React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: {\n          span: 5\n        },\n        xs: {\n          span: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \" \", React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, seletedShopName)), React.createElement(Col, {\n        lg: {\n          span: 14\n        },\n        xs: {\n          span: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(Col, {\n        lg: {\n          span: 5\n        },\n        xs: {\n          span: 11\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(Select, {\n        style: {\n          width: \"100%\"\n        },\n        optionFilterProp: \"children\",\n        onChange: this.getShopName,\n        defaultValue: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, shopName.map(function (shop, i) {\n        return React.createElement(\"option\", {\n          key: i,\n          value: shop.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, shop.shopName);\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"service/new\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Add new \"))), React.createElement(Table, {\n        columns: this.columns,\n        pagination: false,\n        dataSource: services,\n        scroll: {\n          x: 700\n        },\n        size: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dp-flex dp-flex-jf-end mt-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        current: page,\n        defaultPageSize: 15,\n        total: totalPage //total number of card data available\n        ,\n        onChange: this.onChangePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ServicePage;\n}(Component);\n\nexport default ServicePage;","map":{"version":3,"sources":["/Users/thamnt/Downloads/shop-online/front-end/admin/src/routes/Service/ServicePage/index.js"],"names":["React","Component","Table","Button","Card","Col","Row","Select","Pagination","Link","getListShop","getServiceByPage","getListServiceByShop","CircularProgress","relative","Option","ServicePage","props","getShopName","value","name","setState","seletedShopName","children","idShop","state","then","response","services","data","map","service","id","serviceName","service_name","serviceDescription","service_description","fee","type","child_count","totalPage","meta","total","page","current_page","onChangePage","styleLoader","position","top","left","width","zIndex","background","columns","title","dataIndex","key","render","text","record","shopName","loader","res","span","shop","i","x"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Table, Button, Card, Col, Row, Select, Pagination } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport {\n  getListShop,\n  getServiceByPage,\n  getListServiceByShop\n} from \"../../../service/handleRequest\";\nimport CircularProgress from \"components/CircularProgress/index\";\nimport { relative } from \"path\";\nimport \"../../../styles/customerStyle/index.css\";\n\nconst { Option } = Select;\nclass ServicePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      services: [],\n      shopName: [],\n      seletedShopName: \"\",\n      idShop: \"\",\n      totalPage: 1,\n      page: 1,\n      loader: true\n    };\n  }\n\n  componentDidMount() {\n    getListShop.then(({ data }) => {\n      this.setState(\n        {\n          shopName: data,\n          idShop: data[0].id,\n          seletedShopName: data[0].shopName\n        },\n        () => {\n          let idShop = this.state.idShop;\n          getListServiceByShop(idShop).then(res => {\n            const services = res.data.data.map(service => {\n              return {\n                id: service.id,\n                serviceName: service.service_name,\n                serviceDescription: service.service_description,\n                fee: service.fee,\n                type: service.type,\n                child_count: service.child_count\n              };\n            });\n            this.setState({\n              loader: false,\n              services,\n              totalPage: res.data.meta.total,\n              page: res.data.meta.current_page\n            });\n          });\n        }\n      );\n    });\n  }\n\n  getShopName = (value, name) => {\n    this.setState(\n      {\n        seletedShopName: name.props.children,\n        idShop: value\n      },\n      () => {\n        getListServiceByShop(this.state.idShop).then(response => {\n          const services = response.data.data.map(service => {\n            return {\n              id: service.id,\n              serviceName: service.service_name,\n              serviceDescription: service.service_description,\n              fee: service.fee,\n              type: service.type,\n              child_count: service.child_count\n            };\n          });\n          this.setState(\n            {\n              services,\n              totalPage: response.data.meta.total,\n              page: response.data.meta.current_page\n            },\n            () => {}\n          );\n        });\n      }\n    );\n  };\n\n  onChangePage = page => {\n    this.setState(\n      {\n        page: page\n      },\n      () => {\n        getServiceByPage(this.state.idShop, this.state.page).then(response => {\n          const services = response.data.data.map(service => {\n            return {\n              id: service.id,\n              serviceName: service.service_name,\n              serviceDescription: service.service_description,\n              fee: service.fee,\n              type: service.type,\n              child_count: service.child_count\n            };\n          });\n          this.setState({\n            services,\n            totalPage: response.data.meta.total,\n            page: response.data.meta.current_page\n          });\n        });\n      }\n    );\n  };\n\n  styleLoader = {\n    position: \"sticky\",\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    zIndex: \"2\",\n    background: \"#fff\"\n  };\n\n  columns = [\n    {\n      title: \"Id\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Service name\",\n      dataIndex: \"serviceName\",\n      key: \"serviceName\",\n      render: (text, record) => {\n        return <Link to={`/service/detail/${record.id}`}>{text}</Link>;\n      }\n    },\n    {\n      title: \"Service description\",\n      dataIndex: \"serviceDescription\",\n      key: \"serviceDescription\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"fee\",\n      key: \"price\"\n    },\n    {\n      title: \"Type\",\n      dataIndex: \"type\",\n      key: \"tyoe\"\n    },\n    {\n      title: \"Number of children\",\n      dataIndex: \"child_count\",\n      key: \"numberOfChildren\"\n    },\n    {\n      title: \"\",\n      key: \"edit\",\n      dataIndex: \"tags\",\n      render: (text, record) => (\n        <Link to={`/service/edit/${record.id}`}>\n          <Button type=\"primary\">Edit</Button>\n        </Link>\n      )\n    }\n  ];\n\n  render() {\n    const {\n      services,\n      seletedShopName,\n      shopName,\n      page,\n      totalPage,\n      loader\n    } = this.state;\n    return (\n      <div style={{ position: \"relative\" }}>\n        <div>\n          {loader ? (\n            <div className=\"gx-loader-view\" style={this.styleLoader}>\n              <CircularProgress />\n            </div>\n          ) : null}\n          {/* <Card>List of service packages</Card> */}\n\n          <div className=\"title-header\">\n            <h3 className=\"text-title\">Service</h3>\n          </div>\n          <Card>\n            <Row>\n              <Col lg={{ span: 5 }} xs={{ span: 10 }}>\n                {\" \"}\n                <p>{seletedShopName}</p>\n              </Col>\n              <Col lg={{ span: 14 }} xs={{ span: 3 }}></Col>\n              <Col lg={{ span: 5 }} xs={{ span: 11 }}>\n                <Select\n                  style={{ width: \"100%\" }}\n                  optionFilterProp=\"children\"\n                  onChange={this.getShopName}\n                  defaultValue={1}\n                >\n                  {shopName.map(function(shop, i) {\n                    return (\n                      <option key={i} value={shop.id}>\n                        {shop.shopName}\n                      </option>\n                    );\n                  })}\n                </Select>\n              </Col>\n            </Row>\n            <div>\n              <Link to=\"service/new\">\n                <Button type=\"primary\">Add new </Button>\n              </Link>\n            </div>\n            <Table\n              columns={this.columns}\n              pagination={false}\n              dataSource={services}\n              scroll={{ x: 700 }}\n              size=\"middle\"\n            />\n            <div className=\"dp-flex dp-flex-jf-end mt-10\">\n              <Pagination\n                current={page}\n                defaultPageSize={15}\n                total={totalPage} //total number of card data available\n                onChange={this.onChangePage}\n              />\n            </div>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n}\nexport default ServicePage;\n"]},"metadata":{},"sourceType":"module"}