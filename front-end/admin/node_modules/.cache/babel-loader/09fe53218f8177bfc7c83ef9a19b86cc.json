{"ast":null,"code":"import _classCallCheck from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/thamnt/Downloads/shop-online/front-end/admin/src/containers/App/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport URLSearchParams from \"url-search-params\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { LocaleProvider } from \"antd\";\nimport { IntlProvider } from \"react-intl\";\nimport AppLocale from \"lngProvider\";\nimport MainApp from \"./MainApp\";\nimport SignIn from \"../SignIn\";\nimport SignUp from \"../SignUp\";\nimport { setInitUrl } from \"appRedux/actions/Auth\";\nimport { onLayoutTypeChange, onNavStyleChange, setThemeType } from \"appRedux/actions/Setting\";\nimport { LAYOUT_TYPE_BOXED, LAYOUT_TYPE_FRAMED, LAYOUT_TYPE_FULL, NAV_STYLE_ABOVE_HEADER, NAV_STYLE_BELOW_HEADER, NAV_STYLE_DARK_HORIZONTAL, NAV_STYLE_DEFAULT_HORIZONTAL, NAV_STYLE_INSIDE_HEADER_HORIZONTAL, THEME_TYPE_DARK } from \"../../constants/ThemeSetting\";\n\nvar RestrictedRoute = function RestrictedRoute(_ref) {\n  var Component = _ref.component,\n      authUser = _ref.authUser,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"authUser\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      return authUser ? React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      })) : React.createElement(Redirect, {\n        to: {\n          pathname: \"/signin\",\n          state: {\n            from: props.location\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }));\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.setLayoutType = function (layoutType) {\n      if (layoutType === LAYOUT_TYPE_FULL) {\n        document.body.classList.remove(\"boxed-layout\");\n        document.body.classList.remove(\"framed-layout\");\n        document.body.classList.add(\"full-layout\");\n      } else if (layoutType === LAYOUT_TYPE_BOXED) {\n        document.body.classList.remove(\"full-layout\");\n        document.body.classList.remove(\"framed-layout\");\n        document.body.classList.add(\"boxed-layout\");\n      } else if (layoutType === LAYOUT_TYPE_FRAMED) {\n        document.body.classList.remove(\"boxed-layout\");\n        document.body.classList.remove(\"full-layout\");\n        document.body.classList.add(\"framed-layout\");\n      }\n    };\n\n    _this.setNavStyle = function (navStyle) {\n      if (navStyle === NAV_STYLE_DEFAULT_HORIZONTAL || navStyle === NAV_STYLE_DARK_HORIZONTAL || navStyle === NAV_STYLE_INSIDE_HEADER_HORIZONTAL || navStyle === NAV_STYLE_ABOVE_HEADER || navStyle === NAV_STYLE_BELOW_HEADER) {\n        document.body.classList.add(\"full-scroll\");\n        document.body.classList.add(\"horizontal-layout\");\n      } else {\n        document.body.classList.remove(\"full-scroll\");\n        document.body.classList.remove(\"horizontal-layout\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this.props.initURL === \"\") {\n        this.props.setInitUrl(this.props.history.location.pathname);\n      }\n\n      var params = new URLSearchParams(this.props.location.search);\n\n      if (params.has(\"theme\")) {\n        this.props.setThemeType(params.get(\"theme\"));\n      }\n\n      if (params.has(\"nav-style\")) {\n        this.props.onNavStyleChange(params.get(\"nav-style\"));\n      }\n\n      if (params.has(\"layout-type\")) {\n        this.props.onLayoutTypeChange(params.get(\"layout-type\"));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          match = _this$props.match,\n          location = _this$props.location,\n          themeType = _this$props.themeType,\n          layoutType = _this$props.layoutType,\n          navStyle = _this$props.navStyle,\n          locale = _this$props.locale,\n          authUser = _this$props.authUser,\n          initURL = _this$props.initURL;\n\n      if (themeType === THEME_TYPE_DARK) {\n        document.body.classList.add(\"dark-theme\");\n      }\n\n      if (location.pathname === \"/\") {\n        if (authUser === null) {\n          return React.createElement(Redirect, {\n            to: \"/signin\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          });\n        } else if (initURL === \"\" || initURL === \"/\" || initURL === \"/signin\") {\n          return React.createElement(Redirect, {\n            to: \"/admin\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Redirect, {\n            to: initURL,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          });\n        }\n      }\n\n      this.setLayoutType(layoutType);\n      this.setNavStyle(navStyle);\n      var currentAppLocale = AppLocale[locale.locale];\n      return React.createElement(LocaleProvider, {\n        locale: currentAppLocale.antd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(IntlProvider, {\n        locale: currentAppLocale.locale,\n        messages: currentAppLocale.messages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/signin\",\n        component: SignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        component: SignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(RestrictedRoute, {\n        path: \"\".concat(match.url),\n        authUser: authUser,\n        component: MainApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var settings = _ref2.settings,\n      auth = _ref2.auth;\n  var locale = settings.locale,\n      navStyle = settings.navStyle,\n      themeType = settings.themeType,\n      layoutType = settings.layoutType;\n  var authUser = auth.authUser,\n      initURL = auth.initURL;\n  return {\n    locale: locale,\n    navStyle: navStyle,\n    themeType: themeType,\n    layoutType: layoutType,\n    authUser: authUser,\n    initURL: initURL\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setInitUrl: setInitUrl,\n  setThemeType: setThemeType,\n  onNavStyleChange: onNavStyleChange,\n  onLayoutTypeChange: onLayoutTypeChange\n})(App);","map":{"version":3,"sources":["/Users/thamnt/Downloads/shop-online/front-end/admin/src/containers/App/index.js"],"names":["React","Component","connect","URLSearchParams","Redirect","Route","Switch","LocaleProvider","IntlProvider","AppLocale","MainApp","SignIn","SignUp","setInitUrl","onLayoutTypeChange","onNavStyleChange","setThemeType","LAYOUT_TYPE_BOXED","LAYOUT_TYPE_FRAMED","LAYOUT_TYPE_FULL","NAV_STYLE_ABOVE_HEADER","NAV_STYLE_BELOW_HEADER","NAV_STYLE_DARK_HORIZONTAL","NAV_STYLE_DEFAULT_HORIZONTAL","NAV_STYLE_INSIDE_HEADER_HORIZONTAL","THEME_TYPE_DARK","RestrictedRoute","component","authUser","rest","props","pathname","state","from","location","App","setLayoutType","layoutType","document","body","classList","remove","add","setNavStyle","navStyle","initURL","history","params","search","has","get","match","themeType","locale","currentAppLocale","antd","messages","url","mapStateToProps","settings","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport URLSearchParams from \"url-search-params\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { LocaleProvider } from \"antd\";\r\nimport { IntlProvider } from \"react-intl\";\r\n\r\nimport AppLocale from \"lngProvider\";\r\nimport MainApp from \"./MainApp\";\r\nimport SignIn from \"../SignIn\";\r\nimport SignUp from \"../SignUp\";\r\nimport { setInitUrl } from \"appRedux/actions/Auth\";\r\nimport {\r\n  onLayoutTypeChange,\r\n  onNavStyleChange,\r\n  setThemeType\r\n} from \"appRedux/actions/Setting\";\r\n\r\nimport {\r\n  LAYOUT_TYPE_BOXED,\r\n  LAYOUT_TYPE_FRAMED,\r\n  LAYOUT_TYPE_FULL,\r\n  NAV_STYLE_ABOVE_HEADER,\r\n  NAV_STYLE_BELOW_HEADER,\r\n  NAV_STYLE_DARK_HORIZONTAL,\r\n  NAV_STYLE_DEFAULT_HORIZONTAL,\r\n  NAV_STYLE_INSIDE_HEADER_HORIZONTAL,\r\n  THEME_TYPE_DARK\r\n} from \"../../constants/ThemeSetting\";\r\n\r\nconst RestrictedRoute = ({ component: Component, authUser, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      authUser ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/signin\",\r\n            state: { from: props.location }\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nclass App extends Component {\r\n  setLayoutType = layoutType => {\r\n    if (layoutType === LAYOUT_TYPE_FULL) {\r\n      document.body.classList.remove(\"boxed-layout\");\r\n      document.body.classList.remove(\"framed-layout\");\r\n      document.body.classList.add(\"full-layout\");\r\n    } else if (layoutType === LAYOUT_TYPE_BOXED) {\r\n      document.body.classList.remove(\"full-layout\");\r\n      document.body.classList.remove(\"framed-layout\");\r\n      document.body.classList.add(\"boxed-layout\");\r\n    } else if (layoutType === LAYOUT_TYPE_FRAMED) {\r\n      document.body.classList.remove(\"boxed-layout\");\r\n      document.body.classList.remove(\"full-layout\");\r\n      document.body.classList.add(\"framed-layout\");\r\n    }\r\n  };\r\n\r\n  setNavStyle = navStyle => {\r\n    if (\r\n      navStyle === NAV_STYLE_DEFAULT_HORIZONTAL ||\r\n      navStyle === NAV_STYLE_DARK_HORIZONTAL ||\r\n      navStyle === NAV_STYLE_INSIDE_HEADER_HORIZONTAL ||\r\n      navStyle === NAV_STYLE_ABOVE_HEADER ||\r\n      navStyle === NAV_STYLE_BELOW_HEADER\r\n    ) {\r\n      document.body.classList.add(\"full-scroll\");\r\n      document.body.classList.add(\"horizontal-layout\");\r\n    } else {\r\n      document.body.classList.remove(\"full-scroll\");\r\n      document.body.classList.remove(\"horizontal-layout\");\r\n    }\r\n  };\r\n\r\n  componentWillMount() {\r\n    if (this.props.initURL === \"\") {\r\n      this.props.setInitUrl(this.props.history.location.pathname);\r\n    }\r\n    const params = new URLSearchParams(this.props.location.search);\r\n\r\n    if (params.has(\"theme\")) {\r\n      this.props.setThemeType(params.get(\"theme\"));\r\n    }\r\n    if (params.has(\"nav-style\")) {\r\n      this.props.onNavStyleChange(params.get(\"nav-style\"));\r\n    }\r\n    if (params.has(\"layout-type\")) {\r\n      this.props.onLayoutTypeChange(params.get(\"layout-type\"));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match,\r\n      location,\r\n      themeType,\r\n      layoutType,\r\n      navStyle,\r\n      locale,\r\n      authUser,\r\n      initURL\r\n    } = this.props;\r\n    if (themeType === THEME_TYPE_DARK) {\r\n      document.body.classList.add(\"dark-theme\");\r\n    }\r\n    if (location.pathname === \"/\") {\r\n      if (authUser === null) {\r\n        return <Redirect to={\"/signin\"} />;\r\n      } else if (initURL === \"\" || initURL === \"/\" || initURL === \"/signin\") {\r\n        return <Redirect to={\"/admin\"} />;\r\n      } else {\r\n        return <Redirect to={initURL} />;\r\n      }\r\n    }\r\n    this.setLayoutType(layoutType);\r\n\r\n    this.setNavStyle(navStyle);\r\n\r\n    const currentAppLocale = AppLocale[locale.locale];\r\n    return (\r\n      <LocaleProvider locale={currentAppLocale.antd}>\r\n        <IntlProvider\r\n          locale={currentAppLocale.locale}\r\n          messages={currentAppLocale.messages}\r\n        >\r\n          <Switch>\r\n            <Route exact path=\"/signin\" component={SignIn} />\r\n            <Route exact path=\"/signup\" component={SignUp} />\r\n            <RestrictedRoute\r\n              path={`${match.url}`}\r\n              authUser={authUser}\r\n              component={MainApp}\r\n            />\r\n          </Switch>\r\n        </IntlProvider>\r\n      </LocaleProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ settings, auth }) => {\r\n  const { locale, navStyle, themeType, layoutType } = settings;\r\n  const { authUser, initURL } = auth;\r\n  return { locale, navStyle, themeType, layoutType, authUser, initURL };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  { setInitUrl, setThemeType, onNavStyleChange, onLayoutTypeChange }\r\n)(App);\r\n"]},"metadata":{},"sourceType":"module"}