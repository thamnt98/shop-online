{"ast":null,"code":"import _regeneratorRuntime from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/thamnt/Downloads/shop-online/front-end/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/thamnt/Downloads/shop-online/front-end/admin/src/routes/Rental/RentalPage/index.js\";\nimport React, { Component } from \"react\";\nimport { Card, Table, Col, Row, Form, Select, notification, PageHeader } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { getListShop, getRentalByShop } from \"../../../service/handleRequest\";\nimport CircularProgress from \"components/CircularProgress/index\";\nimport '../../../styles/customerStyle/index.css';\n\nvar Rentalpage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Rentalpage, _Component);\n\n  function Rentalpage(props) {\n    var _this;\n\n    _classCallCheck(this, Rentalpage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rentalpage).call(this, props));\n\n    _this.openNotificationWithIcon = function (type, message) {\n      notification[type]({\n        message: message\n      });\n    };\n\n    _this.columns = [{\n      title: \"Id\",\n      dataIndex: \"id\",\n      key: \"id\"\n    }, {\n      title: \"Name  of rental service\",\n      dataIndex: \"\",\n      key: \"nameRental\",\n      render: function render(rental) {\n        return React.createElement(Link, {\n          to: \"/rentals/detail/\".concat(rental.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, rental.nameRental);\n      }\n    }, {\n      title: \"Description\",\n      dataIndex: \"rentalDescription\",\n      key: \"rentalDescription\"\n    }, {\n      title: \"Price\",\n      dataIndex: \"fee\",\n      key: \"fee\"\n    }, {\n      title: \"\",\n      dataIndex: \"\",\n      key: \"x\",\n      render: function render(rental) {\n        return React.createElement(Link, {\n          to: \"/rentals/new/\".concat(rental.id),\n          className: \"ant-btn ant-btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Edit\");\n      }\n    }];\n\n    _this.handleSelectChange =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(shopId) {\n        var shops, shop;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                shops = _this.state.shops;\n                shop = shops.find(function (shop) {\n                  return shop.value === shopId;\n                });\n                getRentalByShop(shopId).then(function (response) {\n                  var rentals = response.data.data.map(function (rental) {\n                    return {\n                      id: rental.data.id,\n                      nameRental: rental.data.attributes.rentalName,\n                      rentalDescription: rental.data.attributes.rentalDescription,\n                      fee: rental.data.attributes.fee\n                    };\n                  });\n\n                  _this.setState({\n                    selectedShop: shop,\n                    rentals: rentals\n                  });\n                }).catch(function (ex) {\n                  _this.openNotificationWithIcon(\"error\", \"Server error\");\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.renderSelection = function (shops) {\n      var Option = Select.Option;\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: 1,\n        onChange: _this.handleSelectChange,\n        style: {\n          width: 150\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, shops.map(function (shop) {\n        return React.createElement(Option, {\n          value: shop.value,\n          key: shop.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, shop.label);\n      }))));\n    };\n\n    _this.state = {\n      rentals: [],\n      shops: [],\n      selectedShop: {},\n      loader: true\n    };\n    return _this;\n  }\n\n  _createClass(Rentalpage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getListShop.then(function (response) {\n        var shops = response.data.map(function (shop) {\n          return {\n            value: shop.id,\n            label: shop.shopName\n          };\n        });\n        var selectedShop = shops[0];\n        getRentalByShop(selectedShop.value).then(function (response) {\n          var rentals = response.data.data.map(function (rental) {\n            return {\n              id: rental.data.id,\n              nameRental: rental.data.attributes.rentalName,\n              rentalDescription: rental.data.attributes.rentalDescription,\n              fee: rental.data.attributes.fee\n            };\n          });\n\n          _this2.setState({\n            rentals: rentals,\n            loader: false\n          });\n        }).catch(function (ex) {\n          _this2.openNotificationWithIcon(\"error\", \"Server error\");\n        });\n\n        _this2.setState({\n          shops: shops,\n          selectedShop: selectedShop\n        });\n      }).catch(function (ex) {\n        _this2.openNotificationWithIcon(\"error\", \"Server error\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          rentals = _this$state.rentals,\n          shops = _this$state.shops,\n          selectedShop = _this$state.selectedShop,\n          loader = _this$state.loader;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Rental\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/rentals/new\",\n        className: \"ant-btn ant-btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Add Rental\")), React.createElement(Row, {\n        type: \"flex\",\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 24,\n        className: \"pd-0 posi-rel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, loader ? React.createElement(\"div\", {\n        className: \"on-loader posi-absolute\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(CircularProgress, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })) : null, React.createElement(Card, {\n        title: selectedShop.label,\n        extra: this.renderSelection(shops),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Table, {\n        columns: this.columns,\n        dataSource: rentals,\n        scroll: {\n          x: 700\n        },\n        size: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Rentalpage;\n}(Component);\n\nexport default Rentalpage;","map":{"version":3,"sources":["/Users/thamnt/Downloads/shop-online/front-end/admin/src/routes/Rental/RentalPage/index.js"],"names":["React","Component","Card","Table","Col","Row","Form","Select","notification","PageHeader","Link","getListShop","getRentalByShop","CircularProgress","Rentalpage","props","openNotificationWithIcon","type","message","columns","title","dataIndex","key","render","rental","id","nameRental","handleSelectChange","shopId","shops","state","shop","find","value","then","response","rentals","data","map","attributes","rentalName","rentalDescription","fee","setState","selectedShop","catch","ex","renderSelection","Option","width","label","loader","shopName","x"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Card, Table, Col, Row, Form, Select, notification, PageHeader } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { getListShop, getRentalByShop } from \"../../../service/handleRequest\";\nimport CircularProgress from \"components/CircularProgress/index\";\nimport '../../../styles/customerStyle/index.css';\n\nclass Rentalpage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rentals: [],\n      shops: [],\n      selectedShop: {},\n      loader: true\n    };\n  }\n\n  openNotificationWithIcon = (type, message) => {\n    notification[type]({\n      message: message\n    });\n  };\n\n  componentDidMount() {\n    getListShop\n      .then(response => {\n        const shops = response.data.map(shop => {\n          return {\n            value: shop.id,\n            label: shop.shopName\n          };\n        });\n\n        const selectedShop = shops[0];\n\n        getRentalByShop(selectedShop.value)\n          .then(response => {\n            const rentals = response.data.data.map(rental => {\n              return {\n                id: rental.data.id,\n                nameRental: rental.data.attributes.rentalName,\n                rentalDescription: rental.data.attributes.rentalDescription,\n                fee: rental.data.attributes.fee\n              };\n            });\n\n            this.setState({ rentals, loader: false });\n          })\n          .catch(ex => {\n            this.openNotificationWithIcon(\"error\", \"Server error\");\n          });\n\n        this.setState({ shops, selectedShop });\n      })\n      .catch(ex => {\n        this.openNotificationWithIcon(\"error\", \"Server error\");\n      });\n  }\n\n  columns = [\n    {\n      title: \"Id\",\n      dataIndex: \"id\",\n      key: \"id\"\n    },\n    {\n      title: \"Name  of rental service\",\n      dataIndex: \"\",\n      key: \"nameRental\",\n      render: rental => {\n        return (\n          <Link to={`/rentals/detail/${rental.id}`}>{rental.nameRental}</Link>\n        );\n      }\n    },\n    {\n      title: \"Description\",\n      dataIndex: \"rentalDescription\",\n      key: \"rentalDescription\"\n    },\n    {\n      title: \"Price\",\n      dataIndex: \"fee\",\n      key: \"fee\"\n    },\n    {\n      title: \"\",\n      dataIndex: \"\",\n      key: \"x\",\n      render: rental => {\n        return (\n          <Link\n            to={`/rentals/new/${rental.id}`}\n            className=\"ant-btn ant-btn-primary\"\n          >\n            Edit\n          </Link>\n        );\n      }\n    }\n  ];\n\n  handleSelectChange = async shopId => {\n    const { shops } = this.state;\n\n    const shop = shops.find(shop => {\n      return shop.value === shopId;\n    });\n\n    getRentalByShop(shopId)\n      .then(response => {\n        const rentals = response.data.data.map(rental => {\n          return {\n            id: rental.data.id,\n            nameRental: rental.data.attributes.rentalName,\n            rentalDescription: rental.data.attributes.rentalDescription,\n            fee: rental.data.attributes.fee\n          };\n        });\n\n        this.setState({ selectedShop: shop, rentals });\n      })\n      .catch(ex => {\n        this.openNotificationWithIcon(\"error\", \"Server error\");\n      });\n  };\n\n  renderSelection = shops => {\n    const { Option } = Select;\n\n    return (\n      <Form>\n        <Form.Item>\n          <Select\n            defaultValue={1}\n            onChange={this.handleSelectChange}\n            style={{ width: 150 }}\n          >\n            {shops.map(shop => {\n              return (\n                <Option value={shop.value} key={shop.value}>\n                  {shop.label}\n                </Option>\n              );\n            })}\n          </Select>\n        </Form.Item>\n      </Form>\n    );\n  };\n\n  render() {\n    const { rentals, shops, selectedShop, loader } = this.state;\n\n    return (\n      <div>\n        <div className=\"title-header\">\n          <h3 className=\"text-title\">Rental</h3>\n        </div>\n\n        <div>\n          <Link to=\"/rentals/new\" className=\"ant-btn ant-btn-primary\">\n            Add Rental\n          </Link>\n        </div>\n\n        <Row type=\"flex\" justify=\"center\">\n          <Col span={24} className=\"pd-0 posi-rel\">\n          {loader ? (\n            <div className=\"on-loader posi-absolute\" >\n              <CircularProgress />\n            </div>\n          ) : null}\n            <Card\n              title={selectedShop.label}\n              extra={this.renderSelection(shops)}\n            >\n                <Table\n                  columns={this.columns}\n                  dataSource={rentals}\n                  scroll={{x: 700}}\n                  size=\"middle\"\n                ></Table>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Rentalpage;\n"]},"metadata":{},"sourceType":"module"}